{% extends 'base.html' %}
{% block title %}Fair Play — Admin{% endblock %}
{% block content %}
  <div class="py-8 w-full px-8 sm:px-12 lg:px-20 xl:px-32">
    <div class="flex items-center justify-between gap-4 mb-6">
      <div>
        <h2 class="text-3xl font-bold text-slate-800">Fair Play</h2>
        <p class="text-slate-500 mt-1">Flagged game submissions</p>
      </div>
      <a class="btn btn-secondary text-sm" href="{{ url_for('admin.dashboard') }}">Back</a>
    </div>

    <div class="card rounded-3xl p-6">
      <div class="space-y-3">
        {% for s in scores %}
          <div class="p-4 rounded-2xl bg-gradient-to-r from-slate-50 to-white border border-slate-100">
            <div class="flex items-start justify-between gap-3">
              <div>
                <div class="font-semibold text-slate-800">App #{{ s.application_id }} • {{ s.game_key }}</div>
                <div class="text-sm text-slate-500">Score: {{ s.score }} • Earned: +{{ s.earned_discount_pct }}%</div>
                {% if s.flag_reason %}
                  <div class="mt-1 text-sm text-amber-700">Reason: {{ s.flag_reason }}</div>
                {% endif %}
                <div class="text-xs text-slate-400 mt-2">{{ s.created_at.strftime('%Y-%m-%d %H:%M') }}</div>
              </div>
              <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700">Flagged</span>
            </div>
          </div>
        {% else %}
          <div class="text-center py-10 text-slate-400">
            <div class="text-4xl mb-2">✅</div>
            <p>No flagged scores.</p>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}
