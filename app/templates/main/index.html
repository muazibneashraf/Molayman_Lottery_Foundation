{% extends 'base.html' %}
{% block title %}Molayman Lottery Foundation{% endblock %}
{% block content %}
  <section class="min-h-[calc(100vh-120px)] flex items-center w-full relative overflow-hidden">
    <!-- Full-width decorative gradients -->
    <div class="absolute inset-0 pointer-events-none">
      <div class="absolute top-0 right-0 w-2/5 h-full bg-gradient-to-l from-amber-100/60 via-yellow-50/45 to-transparent"></div>
      <div class="absolute bottom-0 left-0 w-2/5 h-full bg-gradient-to-r from-purple-100/60 via-pink-50/45 to-transparent"></div>
    </div>
    <div class="w-full px-8 sm:px-12 lg:px-20 xl:px-32 grid lg:grid-cols-2 gap-16 xl:gap-24 items-center py-12 relative z-10">
      <!-- Left content -->
      <div class="space-y-8 fade-in">
        <div class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-gradient-to-r from-primary/10 to-secondary/10 border border-primary/20 backdrop-blur-sm shadow-sm">
          <span class="w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"></span>
          <span class="text-sm font-semibold text-slate-600">ğŸ“ Admissions Open for 2026</span>
        </div>
        
        <h1 class="text-5xl lg:text-6xl xl:text-7xl font-extrabold leading-tight">
          <span class="text-primary">Premium Lottery</span><br />
          <span class="text-slate-800">Admission Experience</span>
        </h1>
        
        <p class="text-lg text-slate-600 leading-relaxed max-w-lg">
          Apply for <strong class="text-slate-800">Rajuk Uttara Model College</strong> (Class 6 to Class 12). 
          Spin the wheel for up to <strong class="text-primary">30% off</strong>, play Molayman mini-games 
          to boost your discount â€” capped at <strong class="text-secondary">70%</strong>!
        </p>
        
        <div class="flex flex-wrap gap-4">
          <a href="{{ url_for('auth.signup') }}" class="btn btn-gradient btn-glow text-base px-8 py-3.5 text-lg shadow-lg shadow-primary/25">
            <span>ğŸš€</span>
            Get Started Free
          </a>
          <a href="{{ url_for('auth.login') }}" class="btn btn-secondary text-base px-8 py-3.5 hover-lift">
            I already have an account
          </a>
        </div>

        <!-- Stats -->
        <div class="flex gap-6 sm:gap-8 pt-4">
          <div class="reveal stat-card px-4 py-3 rounded-2xl">
            <div class="text-3xl font-bold text-primary counter" data-target="500">0</div>
            <div class="text-xs font-medium text-slate-500 uppercase tracking-wider">Students</div>
          </div>
          <div class="reveal stat-card px-4 py-3 rounded-2xl">
            <div class="text-3xl font-bold text-primary counter" data-target="70">0</div>
            <div class="text-xs font-medium text-slate-500 uppercase tracking-wider">Max Discount</div>
          </div>
          <div class="reveal stat-card px-4 py-3 rounded-2xl">
            <div class="text-3xl font-bold text-primary counter" data-target="41">0</div>
            <div class="text-xs font-medium text-slate-500 uppercase tracking-wider">Mini Games</div>
          </div>
        </div>
      </div>

      <!-- Right content - Caricature + Cards -->
      <div class="relative flex items-center justify-center lg:justify-end fade-in stagger-2">
        <!-- Genie Caricature -->
        <div class="relative z-10 lg:mr-32 xl:mr-40">
          <img 
            src="{{ url_for('static', filename='images/caricatures/genie.png') }}" 
            alt="Molayman Genie" 
            class="caricature caricature-float w-96 lg:w-[420px] xl:w-[480px] h-auto"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
          />
          <!-- Fallback if image not found -->
          <div class="hidden w-80 h-96 rounded-3xl bg-gradient-to-br from-primary/20 to-secondary/20 items-center justify-center">
            <span class="text-8xl">ğŸ§</span>
          </div>
        </div>

        <!-- Info bubbles (no extra caricatures) -->
        <div class="absolute -top-4 right-0 card px-4 py-3 scale-in stagger-3 hidden sm:block bubble-float anim-delay-0">
          <div class="flex items-center gap-2">
            <span class="text-2xl">ğŸ¡</span>
            <div>
              <div class="text-xs text-slate-500">Spin to win</div>
              <div class="font-bold text-primary">Up to 30%</div>
            </div>
          </div>
        </div>

        <div class="absolute top-1/2 -right-10 card px-4 py-3 scale-in stagger-4 hidden sm:block bubble-float anim-delay-05">
          <div class="flex items-center gap-2">
            <span class="text-2xl">ğŸ’³</span>
            <div>
              <div class="text-xs text-slate-500">Pay via</div>
              <div class="font-bold text-slate-800">bKash / Bank</div>
            </div>
          </div>
        </div>

        <div class="absolute -bottom-4 -left-8 card px-4 py-3 scale-in stagger-5 hidden sm:block bubble-float anim-delay-08">
          <div class="flex items-center gap-2">
            <span class="text-2xl">ğŸ®</span>
            <div>
              <div class="text-xs text-slate-500">Play games</div>
              <div class="font-bold text-secondary">Earn more!</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section class="py-20 fade-in stagger-3 w-full">
    <div class="w-full px-8 sm:px-12 lg:px-20 xl:px-32">
      <div class="text-center mb-16">
        <span class="inline-block px-4 py-1.5 rounded-full bg-blue-50 text-blue-600 text-sm font-semibold mb-4">âš¡ Simple Process</span>
        <h2 class="text-4xl font-extrabold text-slate-800">How It Works</h2>
        <p class="text-slate-500 mt-3 text-lg">3 easy steps to your discounted admission</p>
      </div>

      <!-- Steps connector line (desktop) -->
      <div class="relative">
        <div class="hidden md:block absolute top-16 left-[16%] right-[16%] h-0.5 bg-gradient-to-r from-blue-500 via-primary to-emerald-500 opacity-30"></div>
        <div class="grid md:grid-cols-3 gap-8">
          <div class="glow-card card card-interactive p-8 text-center slide-up stagger-1 relative">
            <div class="w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-3xl text-white mb-5 shadow-lg shadow-blue-500/30 feature-icon">
              ğŸ“
            </div>
            <h3 class="font-bold text-xl text-slate-800 mb-2">Apply for a Class</h3>
            <p class="text-slate-500 text-sm leading-relaxed">Choose from Class 6 to Class 12 at Rajuk Uttara Model College</p>
          </div>

          <div class="glow-card card card-interactive p-8 text-center slide-up stagger-2 relative">
            <div class="w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-3xl text-white mb-5 shadow-lg shadow-primary/30 feature-icon">
              ğŸ®
            </div>
            <h3 class="font-bold text-xl text-slate-800 mb-2">Spin & Play Games</h3>
            <p class="text-slate-500 text-sm leading-relaxed">Win discounts with our spin wheel and 41+ Molayman mini-games</p>
          </div>

          <div class="glow-card card card-interactive p-8 text-center slide-up stagger-3 relative">
            <div class="w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br from-emerald-500 to-green-500 flex items-center justify-center text-3xl text-white mb-5 shadow-lg shadow-emerald-500/30 feature-icon">
              âœ…
            </div>
            <h3 class="font-bold text-xl text-slate-800 mb-2">Pay & Confirm</h3>
            <p class="text-slate-500 text-sm leading-relaxed">Pay the discounted amount via bKash or Bank transfer</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="py-20 fade-in w-full">
    <div class="w-full px-8 sm:px-12 lg:px-20 xl:px-32">
      <div class="text-center mb-16">
        <span class="inline-block px-4 py-1.5 rounded-full bg-amber-50 text-amber-600 text-sm font-semibold mb-4">ğŸ’¬ Testimonials</span>
        <h2 class="text-4xl font-extrabold text-slate-800">What Students Say</h2>
        <p class="text-slate-500 mt-3 text-lg">Real reviews from our community</p>
      </div>

      <div class="relative overflow-hidden">
        <div id="testimonialTrack" class="testimonial-track">
          <div class="testimonial-card">
            <div class="card rounded-3xl p-6 h-full">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-white text-xl">R</div>
                <div>
                  <div class="font-semibold text-slate-800">Rafiq Ahmed</div>
                  <div class="text-xs text-amber-500">â­â­â­â­â­</div>
                </div>
              </div>
              <p class="text-slate-600 text-sm">"Got 45% discount by playing mini-games! The Roast Master game had me dying ğŸ˜‚. Best admission process ever!"</p>
            </div>
          </div>
          <div class="testimonial-card">
            <div class="card rounded-3xl p-6 h-full">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-secondary to-secondary/80 flex items-center justify-center text-white text-xl">S</div>
                <div>
                  <div class="font-semibold text-slate-800">Sadia Khan</div>
                  <div class="text-xs text-amber-500">â­â­â­â­â­</div>
                </div>
              </div>
              <p class="text-slate-600 text-sm">"The spin wheel gave me 25% off! Then I played the Dirty Mind Test and couldn't stop laughing. 10/10 would recommend! ğŸ”¥"</p>
            </div>
          </div>
          <div class="testimonial-card">
            <div class="card rounded-3xl p-6 h-full">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white text-xl">T</div>
                <div>
                  <div class="font-semibold text-slate-800">Tanvir Hasan</div>
                  <div class="text-xs text-amber-500">â­â­â­â­â­</div>
                </div>
              </div>
              <p class="text-slate-600 text-sm">"Never thought getting admission could be this fun. The Never Have I Ever game exposed me badly though ğŸ«£"</p>
            </div>
          </div>
          <div class="testimonial-card">
            <div class="card rounded-3xl p-6 h-full">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center text-white text-xl">N</div>
                <div>
                  <div class="font-semibold text-slate-800">Nusrat Jahan</div>
                  <div class="text-xs text-amber-500">â­â­â­â­â­</div>
                </div>
              </div>
              <p class="text-slate-600 text-sm">"The Savage Comebacks game is LEGENDARY. I screenshot every roast. Got 60% discount total â€” my parents couldn't believe it! ğŸ’€"</p>
            </div>
          </div>
          <div class="testimonial-card">
            <div class="card rounded-3xl p-6 h-full">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-violet-600 flex items-center justify-center text-white text-xl">A</div>
                <div>
                  <div class="font-semibold text-slate-800">Arif Mahmud</div>
                  <div class="text-xs text-amber-500">â­â­â­â­â­</div>
                </div>
              </div>
              <p class="text-slate-600 text-sm">"Molayman Genie is my spirit animal now. The Booty Shake game at 2am was peak comedy. Maximum discount achieved! ğŸ‘ğŸ†"</p>
            </div>
          </div>
        </div>

        <!-- Carousel controls -->
        <div class="flex justify-center gap-3 mt-6">
          <button onclick="slideTestimonial(-1)" class="btn btn-secondary w-10 h-10 p-0 rounded-full">â†</button>
          <button onclick="slideTestimonial(1)" class="btn btn-secondary w-10 h-10 p-0 rounded-full">â†’</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick features grid -->
  <section class="py-20 fade-in w-full">
    <div class="w-full px-8 sm:px-12 lg:px-20 xl:px-32">
      <div class="text-center mb-12">
        <span class="inline-block px-4 py-1.5 rounded-full bg-purple-50 text-purple-600 text-sm font-semibold mb-4">âœ¨ Features</span>
        <h2 class="text-4xl font-extrabold text-slate-800">Why Students Love Us</h2>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <div class="glow-card card card-interactive p-7 text-center reveal hover-lift">
          <div class="w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-3xl mb-4 shadow-lg shadow-amber-400/30 feature-icon">ğŸ°</div>
          <div class="font-bold text-slate-800 text-lg">41+ Games</div>
          <div class="text-xs text-slate-500 mt-1.5 leading-relaxed">From brain teasers to party games</div>
        </div>
        <div class="glow-card card card-interactive p-7 text-center reveal hover-lift">
          <div class="w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center text-3xl mb-4 shadow-lg shadow-red-400/30 feature-icon">ğŸ”¥</div>
          <div class="font-bold text-slate-800 text-lg">Adult Mode</div>
          <div class="text-xs text-slate-500 mt-1.5 leading-relaxed">Spicy games for the brave ones</div>
        </div>
        <div class="glow-card card card-interactive p-7 text-center reveal hover-lift">
          <div class="w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center text-3xl mb-4 shadow-lg shadow-blue-400/30 feature-icon">ğŸ’¬</div>
          <div class="font-bold text-slate-800 text-lg">Live Chat</div>
          <div class="text-xs text-slate-500 mt-1.5 leading-relaxed">Talk directly with admin</div>
        </div>
        <div class="glow-card card card-interactive p-7 text-center reveal hover-lift">
          <div class="w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center text-3xl mb-4 shadow-lg shadow-emerald-400/30 feature-icon">ğŸ†</div>
          <div class="font-bold text-slate-800 text-lg">Achievements</div>
          <div class="text-xs text-slate-500 mt-1.5 leading-relaxed">Unlock badges as you play</div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // Animated counter
    function animateCounters() {
      document.querySelectorAll('.counter').forEach(counter => {
        const target = parseInt(counter.dataset.target);
        const suffix = counter.dataset.target === '70' ? '%' : '+';
        let current = 0;
        const increment = target / 60;
        const timer = setInterval(() => {
          current += increment;
          if (current >= target) {
            current = target;
            clearInterval(timer);
          }
          counter.textContent = Math.floor(current) + suffix;
        }, 30);
      });
    }

    // Testimonial carousel
    let testimonialPos = 0;
    function slideTestimonial(dir) {
      const track = document.getElementById('testimonialTrack');
      const cards = track.children.length;
      const cardWidth = track.children[0].getBoundingClientRect().width;
      const visibleCards = window.innerWidth >= 1024 ? 3 : window.innerWidth >= 768 ? 2 : 1;
      const maxPos = cards - visibleCards;
      testimonialPos = Math.max(0, Math.min(maxPos, testimonialPos + dir));
      track.style.transform = `translateX(-${testimonialPos * (100/cards)}%)`;
    }

    // Scroll reveal
    function handleReveal() {
      document.querySelectorAll('.reveal').forEach(el => {
        const rect = el.getBoundingClientRect();
        if (rect.top < window.innerHeight - 80) {
          el.classList.add('visible');
        }
      });
    }

    // Auto-scroll testimonials
    let autoSlide = setInterval(() => slideTestimonial(1), 4000);
    document.querySelector('.relative.overflow-hidden')?.addEventListener('mouseenter', () => clearInterval(autoSlide));
    document.querySelector('.relative.overflow-hidden')?.addEventListener('mouseleave', () => {
      autoSlide = setInterval(() => slideTestimonial(1), 4000);
    });

    // Init
    window.addEventListener('scroll', handleReveal);
    window.addEventListener('load', () => { animateCounters(); handleReveal(); });
  </script>
{% endblock %}
